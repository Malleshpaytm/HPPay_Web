<div class="container pt-5">
    <div class="card shadow">
      <div class="card-header p-2 blue-bg text-white title">
        <strong class="tran-det">Transaction Detail</strong>
        <strong class = "help" style="cursor: pointer;" (click)="open(help)">Help</strong>
      </div>
      
      <div class="card-body">
                    <table class="w-50" [formGroup]="transactionDetailFormGroup">
                        <tr>
                            <td>
                                <span class="required">Mobile No</span>:
                            </td>
                            <td align="left">
                                <div class="form-group">
                                   <input type="text" maxlength="10" minlength="10" class="form-control" formControlName="mobile_No">   
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span class="required">From Date</span>:
                            </td>
                            <td align="left">
                               
                              <div class="form-group">
                                  <input type="date" class="form-control" formControlName="from_Date">
                              </div>
                             
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span class="required">To Date</span>:
                            </td>
                            <td align="left">
                               
                              <div class="form-group">
                                  <input type="date" class="form-control" formControlName="to_Date">
                              </div>
                             
                            </td>
                        </tr>


                        <tbody>

                            <tr>
                                <td>
                                </td>
                                <td align="left">
                                    <div class=" d-flex flex-row justify-content-end">
                                        <div class="mr-3">
                                            <button class="btn btn-primary" (click)="onSearchButtonClick();">Search</button>
                                        </div>
                                       <div class="mr-3">
                                            <button class="btn btn-primary">Export to Excel</button>
                                        </div>
                                        <div class="mr-3">
                                            <button class="btn btn-primary">Export to PDF</button>
                                        </div>
                                        <div>
                                            <button class="btn btn-primary" (click)="Reset();">Reset</button>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
 <fieldset class="form-group border px-3 pt-0" *ngIf="isshow==1">
     <legend class="w-auto px-2" style="font-size: 12px;">Summary of Transactions</legend>
          <table id="data-table" class="table table-striped table-borderless table-sm"
            style=" width: 100%;">
            <thead>
              <tr>
                <th>SNo.</th>
                <th>Merchant ID</th>
                <th>Merchant</th>
                <th>BatchID / ROC</th>
                <th>Account Number</th>
                <th>Vehicle No / User Name</th>
                <th>Txn Date</th>
                <th>Txn Type</th>
                <th>Product</th>
                <th>Price</th>
                <th>Volume (Ltr.)</th>
                <!-- <th>Currency</th> -->
                <th>Service Charge</th>
                <th>Amount</th>
                <th>Odometer Reading</th>
                <!-- <th>Status</th> -->
                
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let data of transactionDetailsTableData; let i = index">
                <td>{{data.sno}}</td>
                <td><a style="cursor: pointer;  color: #084594;" (click)="ShowLocationTableList();">{{data.merchantid}}</a></td>
                <td>{{data.merchant_Name}}</td>
                <td>{{data.batchid_roc}}</td>
                <td>{{data.accountnumber}}</td>
                <td>{{data.vehicleNo}}</td>
                <td>{{data.transaction_Date}}</td>
                <td>{{data.transaction_type}}</td>
                <td>{{data.product}}</td>
                <td>{{data.price}}</td>
                <td>{{data.vol_in_ltr}}</td>
                <!-- <td>{{data.currency}}</td> -->
                <td>{{data.serviceCharge}}</td>
                <td>{{data.amount}}</td>
                <td>{{data.odometer_reading}}</td>
                <!-- <td>{{data.status}}</td> -->
  
              
              </tr>
            </tbody>
          </table>
          <p>** Service tax included in service charge.</p>
          <div class="form-group col-md-12">
            <!-- <div class="col-auto">
                  <div class="pagination-info">
                    <span>{{ filter.page }}</span> -
                    <span>{{ filter.limit }}</span>
                    of <span>{{ totalRow }}</span>
                  </div>
                </div> -->
  
            <!-- <ngb-pagination class="float-left" [collectionSize]="totalRow" [(page)]="page" [boundaryLinks]="true"
              [pageSize]="1"></ngb-pagination>
            <select class="custom-select float-right" style="width: auto;" (ngModelChange)="limitChange($event)"
              [(ngModel)]="pageSize">
              <option [ngValue]="2">2</option>
              <option [ngValue]="10">10</option>
              <option [ngValue]="50">50</option>
              <option [ngValue]="100">100</option>
            </select> -->
          </div>
        </fieldset>
  <!-- <fieldset class="form-group border px-3 pt-0" *ngIf="istlshow==1">
     <legend class="w-auto px-2" style="font-size: 12px;">Transaction Location</legend>
        <span>Terminal ID :	5000004725</span>
          <table id="data-table" class="table table-striped table-borderless table-sm"
            style=" width: 100%;">
            <thead>
              <tr>
                <th>Name</th>
                <th>Location</th>
                <th>City</th>
                <th>District</th>
                <th>NH</th>
                <th>State</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let data of GetTransactionLocationData; let i = index">
                <td>{{data.name}}</td>
                <td>{{data.location}}</td>
                <td>{{data.city}}</td>
                <td>{{data.district}}</td>
                <td>{{data.NH}}</td>
                <td>{{data.state}}</td>
              </tr>
            </tbody>
          </table>
         
          <div class="form-group col-md-12">
            <div class="col-auto">
                  <div class="pagination-info">
                    <span>{{ filter.page }}</span> -
                    <span>{{ filter.limit }}</span>
                    of <span>{{ totalRow }}</span>
                  </div>
                </div>
  
            <ngb-pagination class="float-left" [collectionSize]="totalRow" [(page)]="page" [boundaryLinks]="true"
              [pageSize]="1"></ngb-pagination>
            <select class="custom-select float-right" style="width: auto;" (ngModelChange)="limitChange($event)"
              [(ngModel)]="pageSize">
              <option [ngValue]="2">2</option>
              <option [ngValue]="10">10</option>
              <option [ngValue]="50">50</option>
              <option [ngValue]="100">100</option>
            </select>
          </div>
        </fieldset> -->
      </div>
    </div>
  </div>

  <ng-template #help let-modal>
  <div class="modal-header blue-bg">
    <h4 class="modal-title text-white" id="modal-basic-title">Transaction Details</h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true" class="text-white">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <form>
      <div class="form-group">
        <p>Select <b>Date Range</b> and click <b>Search</b>.</p>
                            <br>
                            <p>Select <b>Transaction Types</b> like CCMS Sale, CCMS Reload etc. to get the details for the selected transactions.</p>
                            <br>
                            <p>To get the transaction details for particular card, select radio button <b>Card Number</b> and Card Number from dropdown list. </p>
                            <br>
                            <p>To get the transaction details for mapped card, select radio button <b>Mobile Number</b> and Mobile Number from dropdown list. </p>
                            <br>
                            <p>To get the details in excel or pdf then click on <b>Export to Excel</b> and <b>Export to PDF</b>.</p>
                            <br>
        
      </div>
    </form>
  </div>
 
</ng-template>


